# Red Ventures Interview Notebook

## Table of Contents

- [Part 1: Explore the split test. Tell us what happened](#part-1)
- [Part 2: Tell us about the site users and their behavior](#part-2)
- [Part 2: Tell us about the site users and their behavior](#part-3)

## Part 1

To determine the best CTA placement, I first checked to see the most clicked for each CTA copy and placement. Below is a table view of the CTA clicks for each combination. There is also a bar graph in the code in the "Viewing the clickedCTA statistics" section.

| **CTA Copy**                                               | **Placement** | **Count** |
|------------------------------------------------------------|---------------|-----------|
| Access Your Personalized Mortgage Rates Now               | Bottom        | 1,498     |
|                                                            | Middle        | 1,794     |
|                                                            | Top           | 2,072     |
| First Time? We've Made it Easy to Find the Best Mortgage Rate | Bottom     | 1,701     |
|                                                            | Middle        | 1,888     |
|                                                            | Top           | 2,205     |
| Get Pre-Approved for a Mortgage in 5 Minutes              | Bottom        | 1,713     |
|                                                            | Middle        | 2,037     |
|                                                            | Top           | 2,353     |

Looking at this, we can see that the most clicked items are the ones placed at the top. This makes sense because it is easier for users to click on them as they are the first thing they see. To verify this, I also looked at the total revenue for each copy and placement and generated this table.

| **CTA Copy**                                               | **Placement** | **Revenue**  |
|------------------------------------------------------------|---------------|------------|
| First Time? We've Made it Easy to Find the Best Mortgage Rate | Bottom     | 143,390    |
| Get Pre-Approved for a Mortgage in 5 Minutes              | Top           | 140,910    |
| First Time? We've Made it Easy to Find the Best Mortgage Rate | Top       | 136,520    |
| Access Your Personalized Mortgage Rates Now               | Top           | 134,675    |
| First Time? We've Made it Easy to Find the Best Mortgage Rate | Middle    | 134,125    |
| Get Pre-Approved for a Mortgage in 5 Minutes              | Middle        | 130,595    |
|                                                            | Bottom        | 129,970    |
| Access Your Personalized Mortgage Rates Now               | Middle        | 126,935    |
|                                                            | Bottom        | 125,915    |

As you can see, there is a disparity between the most clicked and the most revenue generated. Intuitively, this makes sense because users who are more interested are more likely to scroll around and look for where they can move forward.

Using this information, I decided the best business idea would be to pick the best revenue-generating combination. I decided that the CTA champion is:
| First Time? We've Made it Easy to Find the Best Mortgage Rate | Bottom     | 143,390    |

Then I generated a few statistics to view how this combination performs against the average clicks and revenue:
- Champion Revenue Contribution: 13.53%
- Champion Clicks Contribution: 10.93%
- Average Revenue of Other CTAs: $10,934.38
- Average Clicks of Other CTAs: -244.00

We can see that although there are 244 fewer clicks than the average, there is a $10,934.38 increase in revenue over the average.


## Part 2

### Diving Deeper

In this section, I explored the data in more detail to understand how site users interact with the application and how these interactions correlate with revenue generation. I divided the analysis into three sections:
1. **Demographics** (estimatedAnnualIncome and estimatedPropertyType)
2. **Device/Browser** (deviceType or browser)
3. **Session Behavior** (visitCount, scrolledPage, and scrollDepth)

#### Demographics: Income and Property Type

From the demographic analysis, I concluded that the majority of the revenue is generated by users in the $0-100k income range who are looking for an apartment, accounting for 43.5% of all revenue.

#### Device and Browser Behavior

Next, I analyzed device and browser behavior, which provided some interesting insights. There was a high correlation between revenue and clickedCTA for both browser and device type. Below is a heatmap showing the clickedCTA distribution by device category.

![s17483711262024](https://a.okmd.dev/md/6746504901323.png)

From this heatmap, we see that the largest portion of users come from **Google on Safari** on mobile devices. This is followed by **Google on Chrome** on desktop, **Google Chrome** on mobile, and direct visits from **Safari** on mobile. This indicates that many users are accessing the site from mobile devices, primarily iPhones.

#### Desktop vs. Mobile Click-Through Rates

An even more interesting finding came from the following diagram, which shows the probability of a clickedCTA across different browsers:

![s17564311262024](https://a.okmd.dev/md/6746522d3ccc0.png)

This diagram reveals that, regardless of the browser, there was a much higher probability of a clickedCTA on desktop compared to mobile. This suggests that although many users access the site via mobile, desktop users are more likely to engage with the call to action. This makes sense because desktop users are typically more focused on completing tasks, whereas mobile users may just be browsing and scrolling.

#### Session Behavior and Revenue Correlation

Lastly, I explored how user actions correlate with revenue using a correlation plot.

![s17544211262024](https://a.okmd.dev/md/674651b457b0c.png)


### Exploring Correlation and Profit

In this section, I created several histograms, the most important of which are discussed here to explain their significance. These histograms are split into three subplots: 
- The leftmost represents the bottom CTA placement, 
- The middle represents the middle placement, and 
- The rightmost represents the top placement.  
Each histogram uses three colors to represent different CTA copies.

#### User Acquisition and Revenue

First, let’s explore how users arrive at the application and how that influences profit.

![s18013311262024](https://a.okmd.dev/md/6746534f59254.png)

From the graphic above, we can see that most of the revenue comes from users using Chrome. The bottom placement generates the most revenue, and the CTA copy determined in our best model still performs the best here.

#### CTA Copy and Click Rate

Next, we examine how another CTA copy affects the click rate.

![s18073511262024](https://a.okmd.dev/md/674654b92a839.png)

This graph represents the "Get Pre-Approved for a Mortgage in 5 minutes" CTA copy. The short timeframe in the prompt encourages users to click more, but it doesn’t lead to increased revenue.

#### Other Variables with Low Variability

Through additional graphs, we can observe that a few other variables, such as `visitCount`, `scrolledPage`, and `scrollDepth`, show minimal variation and do not contribute significantly to the results.

#### Mobile vs. Desktop Performance

When comparing mobile and desktop usage, we see that changing the CTA copy does not create a large difference between the two platforms, particularly for information already captured in the previous graphs.

#### Insights from Income Ranges

Looking at income ranges, we gather the following insights:
- The most revenue is generated from the "First Time?" prompt when placed at the bottom. However, this does not hold true for the middle or top placements.
- Income ranges also influence CTA copy preferences.

![s18134411262024](https://a.okmd.dev/md/6746562b0cdb7.png)

While this information doesn’t lead to any specific assumptions about user interaction with the data based on placement and CTA, it is valuable for understanding user preferences.

#### Insights from Property Types

Finally, I explored property types, which provided some useful insights.

![s18180811262024](https://a.okmd.dev/md/674657324807d.png)

From this graphic, we see that most income comes from users interested in apartments and houses, which makes sense given their larger user bases. The "First Time?" CTA copy performed very well for people looking at apartments but not as well for those looking at houses. For house seekers, the preferred CTA copies were "Access your personalized mortgage rates now" and "Get pre-approved for a mortgage in 5 minutes."

#### CTA Click Rate by Property Type

When analyzing the CTA click rate, we see that the "Get pre-approved for a mortgage in 5 minutes" CTA copy performed best for mobile homes and townhomes, with a clear margin.

![s18200311262024](https://a.okmd.dev/md/674657a594f97.png)



## Part 3

### Building a Predictive Model
Based on the insights from section one, I chose to develop a decision tree model to predict the optimal placement and copy for the CTA. I made this decision because I wanted to consider multiple factors in determining the best CTA strategy, and a decision tree seemed like the most effective approach for this task. To predict CTA placement and copy, I used the following input features, which I found most relevant from the previous analysis:

- sessionReferrer
- browser
- deviceType
- incomeRange
- estimatedPropertyType

The model was trained on the entire dataset without splitting into training and testing sets to ensure it could learn from all available data. The predict_best_cta function was then used to predict the ideal ctaPlacement and ctaCopy based on the provided input features.

### Alternative approach 
An alternative approach to the decision tree method would be to use clustering. For example, we could use K-means clustering with the relevant features we discussed above. To determine the ctaPlacement and ctaCopy, we would look within the cluster to see which ctaCopy and ctaPlacement had the highest click-rate. 

### Provide technical and business evaluation on the impact of your optimization, such as how model performance, engagement impact, and revenue impact.

Optimization Impact:
The decision tree model allows for data-driven decisions, reducing the reliance on intuition and manual A/B testing. By continuously updating the model with new data, we can adapt to changing user behaviors and preferences, ensuring sustained optimization.

Engagement Impact:
The optimized CTA placements are expected to increase user engagement by presenting the most relevant and compelling offers at the most effective positions. This should lead to higher click-through rates and improved user satisfaction.

Revenue Impact:
By focusing on the highest revenue-generating CTA placements, we can maximize the overall revenue. The model's ability to identify and prioritize these placements ensures that we are capitalizing on the most profitable opportunities, leading to a significant increase in revenue.

